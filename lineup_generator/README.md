# Lineup generator
## How to install

Lineup generator generates lineups using mathematical integer programming through open-source tools.

###Install dependencies
Lineup generator depends on
	1. [Google Optimization Tools (or-tools)][ortools]: Google software suite for combinatorial optimization, which gives a C++ API to implement and solve mathematical models through [CBC][cbc]. Development is based on the binary distribution for [Ubuntu 14.04][ubuntu] .
	2. [libpqxx][pqxx]: the official C++ client API for â€‹PostgreSQL, version 4.0, installed via apt-get. Make sure you have libpqxx-4.0 and libpqxx-dev installed.
	3. [PostgreSQL][postgresql] database version 9.4. For instructions on how to install in linux mint via apt-get see [Installing and Configuring Postgresql on Linux Mint][mint].
	4. GCC compiler version 4.9.

In order to compile and run Lineup Generator successfully, make sure you have all the tools above installed. 

### Create database

You can find into the `database` directory one .sql file to create the database and all tables, also a simple program to populate them from a .json file. The executable file can be generated by running `make` from the database directory. If everything goes fine then you can run
```
$ ./populate_db
```
###Download and compile
We assume you are in the top level of your or-tools directory.

1. After you have installed and tested all dependencies, download and copy `lineup_generator` directory in the top level of your or-tools directory.
2. Move `lineup_generator/Makefile.user` file to one level above, the root directory of or-tools.
3. Run the following command from the top level of or-tools directory: 

	``` $ make ccc EX=lineup_generator/src/lineup_generator.cc```

4. You should have a `bin/lineup_generator` binary if compilation is successfully. Finally run lineup generator and you will get an error of missing arguments.
```$ ./bin/lineup_generator```

### Run 

```
./bin/lineup_generator [-num_lineups n] -dbname <db_name> -user <db_user> -password <db_password> [-host db_address] [-port db_port]"
``` 

[mint]:https://www.codeproject.com/articles/898303/installing-and-configuring-postgresql-on-linux-min. "installing-and-configuring-postgresql"
[postgresql]: https://www.postgresql.org/ "PostgreSQL"
[ubuntu]: https://github.com/google/or-tools/releases/download/v5.0/or-tools_Ubuntu-14.04-64bit_v5.0.3919.tar.gz "Ubuntu 14.04"
[cbc]: https://projects.coin-or.org/Cbc "CBC"
[pqxx]: http://pqxx.org/development/libpqxx/ "libpqxx"
[ortools]: https://developers.google.com/optimization/        "Google Optimization Tools"
